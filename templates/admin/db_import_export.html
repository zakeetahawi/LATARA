{% extends 'admin/base_site.html' %}
{% load static %}
{% block content %}
<h1>استيراد/تصدير قاعدة البيانات</h1>
<p class="alert alert-info" style="max-width:600px; margin:auto;">يمكنك من هنا استيراد أو تصدير قاعدة بيانات النظام. الرجاء استخدام هذه الميزة فقط إذا كنت من المسؤولين المصرح لهم.</p>
<div class="card" style="padding:2em; max-width:600px; margin:auto;">
    <!-- تصدير ملف db.sqlite3 -->
    <form method="post" style="margin-bottom:2em;">
        {% csrf_token %}
        <input type="hidden" name="export_sqlite" value="1">
        <button type="submit" class="btn btn-warning">تحميل ملف قاعدة البيانات الأصلي (db.sqlite3)</button>
    </form>
    <!-- استيراد ملف db.sqlite3 -->
    <form method="post" enctype="multipart/form-data" onsubmit="return confirm('تنبيه: سيتم استبدال قاعدة البيانات بالكامل وقد تفقد جميع البيانات الحالية! هل أنت متأكد؟');">
        {% csrf_token %}
        <label for="import_sqlite"><b>استيراد ملف قاعدة بيانات SQLite جديد (db.sqlite3):</b></label>
        <input type="file" name="import_sqlite" accept=".sqlite3" class="form-control" required>
        <div class="alert alert-danger mt-2">تنبيه: سيتم استبدال قاعدة البيانات الحالية بالكامل وقد تفقد جميع البيانات الحالية!</div>
        <button type="submit" class="btn btn-danger mt-2">استبدال قاعدة البيانات (db.sqlite3)</button>
    </form>

</div>
<a href="../" class="btn btn-link mt-3" style="display:block; text-align:center;">&larr; العودة إلى صفحة الصلاحيات</a>
{% endblock %}
