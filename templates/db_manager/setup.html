{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block title %}{% trans "إعداد النظام" %}{% endblock %}

{% block extra_css %}
<style>
    .setup-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 30px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }
    .setup-header {
        text-align: center;
        margin-bottom: 30px;
    }
    .setup-header img {
        max-width: 150px;
        margin-bottom: 20px;
    }
    .setup-content {
        margin-bottom: 30px;
    }
    .setup-footer {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }
    .setup-token {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
    }
    .setup-url {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
        word-break: break-all;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="setup-container">
        <div class="setup-header">
            <img src="{% static 'img/logo.png' %}" alt="{% trans 'شعار النظام' %}" class="img-fluid">
            <h1>{% trans "مرحبًا بك في إعداد نظام الخواجه" %}</h1>
            <p class="lead">{% trans "نحن بحاجة إلى إعداد قاعدة البيانات الخاصة بك لبدء استخدام النظام" %}</p>
        </div>
        
        <div class="setup-content">
            <div class="alert alert-info">
                <h4>{% trans "تم إنشاء رمز إعداد جديد" %}</h4>
                <p>{% trans "استخدم هذا الرمز للوصول إلى صفحة إعداد النظام. يرجى الاحتفاظ بهذا الرمز في مكان آمن." %}</p>
            </div>
            
            <div class="setup-token">
                {{ token.token }}
            </div>
            
            <h5>{% trans "رابط الإعداد:" %}</h5>
            <div class="setup-url">
                <a href="{{ setup_url }}" target="_blank">{{ setup_url }}</a>
            </div>
            
            <div class="alert alert-warning">
                <h5>{% trans "ملاحظة هامة:" %}</h5>
                <p>{% trans "هذا الرمز صالح لمدة 24 ساعة فقط. بعد ذلك، ستحتاج إلى إنشاء رمز جديد." %}</p>
                <p>{% trans "يمكن استخدام هذا الرمز مرة واحدة فقط." %}</p>
            </div>
        </div>
        
        <div class="setup-footer">
            <a href="{{ setup_url }}" class="btn btn-primary btn-lg">{% trans "متابعة إلى صفحة الإعداد" %}</a>
        </div>
    </div>
</div>
{% endblock %}
